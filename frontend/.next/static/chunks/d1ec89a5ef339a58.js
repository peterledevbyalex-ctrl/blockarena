(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68820,(t,e,n)=>{"use strict";var r=t.r(23060),s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=r.useState,o=r.useEffect,c=r.useLayoutEffect,a=r.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!s(t,n)}catch(t){return!0}}var l="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=i({inst:{value:n,getSnapshot:e}}),s=r[0].inst,l=r[1];return c(function(){s.value=n,s.getSnapshot=e,u(s)&&l({inst:s})},[t,n,e]),o(function(){return u(s)&&l({inst:s}),t(function(){u(s)&&l({inst:s})})},[t]),a(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},15777,(t,e,n)=>{"use strict";e.exports=t.r(68820)},12730,(t,e,n)=>{"use strict";var r=t.r(23060),s=t.r(15777),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=s.useSyncExternalStore,c=r.useRef,a=r.useEffect,u=r.useMemo,l=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var d=c(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=o(t,(d=u(function(){function t(t){if(!a){if(a=!0,o=t,t=r(t),void 0!==s&&h.hasValue){var e=h.value;if(s(e,t))return c=e}return c=t}if(e=c,i(o,t))return e;var n=r(t);return void 0!==s&&s(e,n)?(o=t,e):(o=t,c=n)}var o,c,a=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]},[e,n,r,s]))[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),l(f),f}},53925,(t,e,n)=>{"use strict";e.exports=t.r(12730)},88752,95028,49975,55283,62298,t=>{"use strict";var e=t.i(58406);function n(t){let e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,s=r?.[0],i=t.chains.find(t=>t.id===n?.chainId),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function r(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){let n,s;if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(s=n;0!=s--;)if(!r(t[s],e[s]))return!1;return!0}if("function"==typeof t.valueOf&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if("function"==typeof t.toString&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();let i=Object.keys(t);if((n=i.length)!==Object.keys(e).length)return!1;for(s=n;0!=s--;)if(!Object.hasOwn(e,i[s]))return!1;for(s=n;0!=s--;){let n=i[s];if(n&&!r(t[n],e[n]))return!1}return!0}return t!=t&&e!=e}var s=t.i(23060),i=t.i(55936),o=t.i(41199);class c extends o.BaseError{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return"wagmi@3.4.3"}}class a extends c{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function u(t={}){let e=t.config??(0,s.useContext)(i.WagmiContext);if(!e)throw new a;return e}t.s(["useConfig",()=>u],95028);var l=t.i(53925);let d=t=>"object"==typeof t&&!Array.isArray(t);function h(t={}){let e=u(t);return function(t,e,n=e,i=r){let o=(0,s.useRef)([]),c=(0,l.useSyncExternalStoreWithSelector)(t,e,n,t=>t,(t,e)=>{if(d(t)&&d(e)&&o.current.length){for(let n of o.current)if(!i(t[n],e[n]))return!1;return!0}return i(t,e)});return(0,s.useMemo)(()=>{if(d(c)){let t={...c},e={};for(let[n,r]of Object.entries(t))e={...e,[n]:{configurable:!1,enumerable:!0,get:()=>(o.current.includes(n)||o.current.push(n),r)}};return Object.defineProperties(t,e),t}return c},[c])}(t=>(function(t,e){let{onChange:s}=e;return t.subscribe(()=>n(t),s,{equalityFn(t,e){let{connector:n,...s}=t,{connector:i,...o}=e;return r(s,o)&&n?.id===i?.id&&n?.uid===i?.uid}})})(e,{onChange:t}),()=>n(e))}t.s(["useAccount",()=>h],49975);var f=t.i(447),p=t.i(49290),m=t.i(24743),b=t.i(1768),x=class extends m.Subscribable{#t;#e=void 0;#n;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,b.shallowEqualObjects)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,b.hashKey)(e.mutationKey)!==(0,b.hashKey)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(t,e){return this.#r=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){let t=this.#n?.state??(0,f.getDefaultState)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#i(t){p.notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,n=this.#e.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#r.onSuccess?.(t.data,e,n,r)}catch(t){Promise.reject(t)}try{this.#r.onSettled?.(t.data,null,e,n,r)}catch(t){Promise.reject(t)}}else if(t?.type==="error"){try{this.#r.onError?.(t.error,e,n,r)}catch(t){Promise.reject(t)}try{this.#r.onSettled?.(void 0,t.error,e,n,r)}catch(t){Promise.reject(t)}}}this.listeners.forEach(t=>{t(this.#e)})})}},y=t.i(33998);function g(t,e){let n=(0,y.useQueryClient)(e),[r]=s.useState(()=>new x(n,t));s.useEffect(()=>{r.setOptions(t)},[r,t]);let i=s.useSyncExternalStore(s.useCallback(t=>r.subscribe(p.notifyManager.batchCalls(t)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=s.useCallback((t,e)=>{r.mutate(t,e).catch(b.noop)},[r]);if(i.error&&(0,b.shouldThrowError)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}t.s(["useMutation",()=>g],55283);var v=t.i(70653);async function j(t,e){let n;if((n="function"==typeof e.connector?t._internal.connectors.setup(e.connector):e.connector).uid===t.state.current)throw new v.ConnectorAlreadyConnectedError;try{t.setState(t=>({...t,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});let{connector:r,...s}=e,i=await n.connect(s);return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(t=>({...t,connections:new Map(t.connections).set(n.uid,{accounts:s.withCapabilities?i.accounts.map(t=>"object"==typeof t?t.address:t):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?i.accounts.map(t=>"object"==typeof t?t:{address:t,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(e){throw t.setState(t=>({...t,status:t.current?"connected":"disconnected"})),e}}let w=[];function S(t){let e=t.connectors;return w.length===e.length&&w.every((t,n)=>t===e[n])?w:(w=e,e)}async function O(t,e={}){let n;if(e.connector)n=e.connector;else{let{connections:e,current:r}=t.state,s=e.get(r);n=s?.connector}let r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(t=>{if(0===r.size)return{...t,connections:new Map,current:null,status:"disconnected"};let e=r.values().next().value;return{...t,connections:new Map(r),current:e.connector.uid}});{let e=t.state.current;if(!e)return;let n=t.state.connections.get(e)?.connector;if(!n)return;await t.storage?.setItem("recentConnectorId",n.id)}}let C=[];function E(t){let e=[...t.state.connections.values()];return"reconnecting"===t.state.status||r(C,e)?C:(C=e,e)}var N=t.i(42208);function M(){let{address:t,isConnected:e,connector:n}=h(),{connect:i}=function(t={}){let e=u(t),n=g(function(t,e={}){return{...e.mutation,mutationFn:async e=>j(t,e),mutationKey:["connect"]}}(e,t));return(0,s.useEffect)(()=>e.subscribe(({status:t})=>t,(t,e)=>{"connected"===e&&"disconnected"===t&&n.reset()}),[e,n.reset]),{...n,connect:n.mutate,connectAsync:n.mutateAsync,connectors:function(t={}){let e=u(t);return(0,s.useSyncExternalStore)(t=>(function(t,e){let{onChange:n}=e;return t._internal.connectors.subscribe((t,e)=>{n(Object.values(t),e)})})(e,{onChange:t}),()=>S(e),()=>S(e))}({config:e})}}(),{disconnect:o}=function(t={}){let e=u(t),n=g(function(t,e={}){return{...e.mutation,mutationFn:async e=>O(t,e),mutationKey:["disconnect"]}}(e,t));return{...n,connectors:(function(t={}){let e=u(t);return(0,s.useSyncExternalStore)(t=>(function(t,e){let{onChange:n}=e;return t.subscribe(()=>E(t),n,{equalityFn:r})})(e,{onChange:t}),()=>E(e),()=>E(e))})({config:e}).map(t=>t.connector),disconnect:n.mutate,disconnectAsync:n.mutateAsync}}(),c=(0,s.useCallback)(()=>{i({connector:(0,N.injected)()})},[i]),a=(0,s.useCallback)(()=>{c()},[c]),l=(0,s.useCallback)(()=>{o()},[o]),d=t?`${t.slice(0,6)}...${t.slice(-4)}`:null;return{address:t,shortAddress:d,isConnected:e,connector:n,login:a,loginWithInjected:c,logout:l}}t.s(["useWallet",()=>M],62298);var P=t.i(10584);function I(){let{shortAddress:t,isConnected:n,login:r,loginWithInjected:s,logout:i}=M();return n?(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-mono text-xs px-2.5 py-1 rounded-full bg-green-500/10 text-green-400 border border-green-500/20 neon-text-green text-[11px]",children:t}),(0,e.jsx)("button",{onClick:i,className:"px-2.5 py-1 text-xs bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-full border border-red-500/20 transition-all",children:"âœ•"})]}):(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(P.motion.button,{whileTap:{scale:.95},onClick:r,className:"px-4 py-2 rounded-full font-bold text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 shadow-[0_0_15px_rgba(139,92,246,0.3)] transition-all",children:"Connect"}),(0,e.jsx)(P.motion.button,{whileTap:{scale:.95},onClick:s,className:"w-9 h-9 rounded-full glass-card flex items-center justify-center hover:bg-white/10 transition-all",title:"MetaMask",children:"ðŸ¦Š"})]})}t.s(["ConnectWallet",()=>I],88752)},19502,t=>{"use strict";var e=t.i(52120);let n=e.default.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=e.default.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001";async function s(t){try{let e=await fetch(`${n}${t}`);if(!e.ok)return null;return await e.json()}catch{return null}}async function i(t){return s(`/players/${t}`)}async function o(){return await s("/leaderboard")??[]}function c(t,e){let n=null,s=!1,i=null;return!function o(){if(!s)try{(n=new WebSocket(r)).onopen=()=>{i=setInterval(()=>{n&&n.readyState===WebSocket.OPEN&&n.send(JSON.stringify({type:"ping"}))},3e4)},n.onmessage=e=>{try{t(JSON.parse(e.data))}catch{}},n.onclose=()=>{i&&(clearInterval(i),i=null),s||setTimeout(o,3e3)},n.onerror=()=>{e?.(),n?.close()}}catch{s||setTimeout(o,3e3)}}(),()=>{s=!0,i&&(clearInterval(i),i=null),n?.close()}}t.s(["connectWebSocket",()=>c,"fetchLeaderboard",()=>o,"fetchPlayerStats",()=>i])},9799,t=>{"use strict";var e=t.i(23060),n=t.i(19502);function r(){let[t,r]=(0,e.useState)([]);return(0,e.useEffect)(()=>{(0,n.fetchLeaderboard)().then(r)},[]),t}function s(t){let[r,s]=(0,e.useState)([]),[i,o]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{let e=(0,n.connectWebSocket)(e=>{"price"===e.type&&(void 0===t||e.arenaId===t)&&s(t=>[...t.slice(-499),{block:e.block,price:e.price}])},()=>o(!1));return o(!0),e},[t]),{prices:r,connected:i}}t.s(["useApiLeaderboard",()=>r,"useLivePrices",()=>s])},90032,t=>{"use strict";var e=t.i(58406),n=t.i(9799),r=t.i(62298),s=t.i(88752),i=t.i(10584);let o=Array.from({length:20},(t,e)=>({address:`0x${(e+1).toString(16).padStart(40,"a")}`,wins:50-2*e,streak:Math.max(0,15-e),totalPnL:`${(5-.3*e).toFixed(2)}`}));function c(){let t=(0,n.useApiLeaderboard)(),{address:c}=(0,r.useWallet)(),a=t.length>0?t:o,u=t=>0===t?"ðŸ¥‡":1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":`#${t+1}`;return(0,e.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,e.jsx)("h1",{className:"font-display text-2xl font-bold neon-text-purple",children:"ðŸ† LEADERBOARD"}),(0,e.jsx)(s.ConnectWallet,{})]}),(0,e.jsx)("div",{className:"flex justify-center items-end gap-3 mb-8",children:[1,0,2].map(t=>{let n=a[t];if(!n)return null;let r=0===t;return(0,e.jsxs)(i.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.15*t},className:`text-center ${r?"order-2":1===t?"order-1":"order-3"}`,children:[(0,e.jsx)("div",{className:`text-3xl mb-1 ${r?"animate-celebration":""}`,children:u(t)}),(0,e.jsxs)("div",{className:`glass-card rounded-xl p-3 border ${r?"border-yellow-500/30 shadow-[0_0_20px_rgba(255,215,0,0.15)]":1===t?"border-gray-400/20":"border-orange-600/20"} ${r?"w-28":"w-24"}`,children:[(0,e.jsxs)("div",{className:"font-mono text-xs text-gray-400 truncate",children:[n.address.slice(0,6),"...",n.address.slice(-4)]}),(0,e.jsxs)("div",{className:"font-display text-lg font-bold text-white mt-1",children:[n.wins,"W"]}),(0,e.jsxs)("div",{className:`text-xs font-bold ${parseFloat(n.totalPnL)>=0?"neon-text-green":"neon-text-red"}`,children:[parseFloat(n.totalPnL)>=0?"+":"",n.totalPnL," ETH"]}),n.streak>0&&(0,e.jsxs)("div",{className:"text-xs text-orange-400 mt-0.5",children:["ðŸ”¥ ",n.streak,"x"]})]})]},t)})}),(0,e.jsx)("div",{className:"space-y-1.5",children:a.map((t,n)=>{let r=c?.toLowerCase()===t.address.toLowerCase();return(0,e.jsxs)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.03*n},className:`flex items-center justify-between p-3 rounded-xl transition-all ${r?"glass-card border border-purple-500/30 shadow-[0_0_15px_rgba(139,92,246,0.15)]":"hover:bg-white/3"}`,children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("span",{className:`font-display text-sm font-bold w-8 text-center ${n<3?"text-yellow-400":"text-gray-600"}`,children:n<3?u(n):`${n+1}`}),(0,e.jsxs)("span",{className:"font-mono text-sm text-gray-300",children:[t.address.slice(0,6),"...",t.address.slice(-4),r&&(0,e.jsx)("span",{className:"ml-2 text-purple-400 text-xs font-bold",children:"(YOU)"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[t.streak>=3&&(0,e.jsxs)("span",{className:"text-xs text-orange-400 font-bold",children:["ðŸ”¥",t.streak]}),(0,e.jsxs)("span",{className:"font-display text-sm font-bold text-white",children:[t.wins,"W"]}),(0,e.jsxs)("span",{className:`font-display text-sm font-bold ${parseFloat(t.totalPnL)>=0?"neon-text-green":"neon-text-red"}`,children:[parseFloat(t.totalPnL)>=0?"+":"",t.totalPnL]})]})]},n)})})]})}t.s(["default",()=>c])}]);